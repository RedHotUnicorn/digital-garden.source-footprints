---
title: Математический подход к выбору девушки*. Правило 37% / Хабр
date: 2023-04-27
src_link: https://www.notion.so/37-c4b74c35ea704b61b78a632508fff386
src_date: '2023-04-27 08:40:00'
gold_link: https://habr.com/ru/companies/ruvds/articles/730004/
gold_link_hash: 1dc5dfcd4ea85b4bb1d2016d2aaa3f75
tags:
- '#host_habr_com'
---

[![](https://habrastorage.org/r/w1560/webt/wq/wb/8t/wqwb8tdevv5pwaup5hmv3badxt0.png)](https://habr.com/ru/companies/ruvds/articles/730004/)  

  

В наше время многие находят вторую половинку в интернете: на тематических форумах и в онлайн-сообществах, в играх, на сайтах знакомств и приложениях вроде «Тиндера», где знакомства вообще поставлены на конвейер. Если десять лет назад [22% всех браков в США начинались со знакомства в интернете](https://news.stanford.edu/2019/08/21/online-dating-popular-way-u-s-couples-meet/), то сейчас доля онлайн-знакомств [превысила 39%](https://www.statista.com/chart/20822/way-of-meeting-partner-heterosexual-us-couples/). По сути, интернет стал [основным способом знакомства мужчин и женщин](https://www.pnas.org/doi/abs/10.1073/pnas.1908630116), как долговременного, так и краткосрочного. Это очень удобно для гиков и специалистов с техническим образованием, поскольку мы получаем конкурентное преимущество, используя привычные инструменты. Например, можно поддерживать десятки чат-сессий в десктопном приложении или применять методы численного анализа в Excel/Google Sheets.  

  

*\*Примечание. Под «девушкой» здесь и далее подразумевается любой объект, поочерёдно рассматриваемый из ограниченного пула схожих объектов с отличающимися характеристиками. Это может быть не только девушка, но и мужчина, квартира для съёма, автомобиль на вторичном рынке, домик в деревне, работодатель и т. д.*  

  

Если вы работали с ~~конвейером~~ приложениями для знакомств, то понимаете главную проблему: как выбрать оптимальный вариант из множества опций, которые рассматриваются по очереди? Проще говоря, *когда остановиться*?  

  

Если вариант почти подходит по ряду параметров, то стоит остановится на нём или же отвергнуть — и продолжать поиск? Что будет оптимальной стратегией в условиях непредсказуемости и недостатка информации? К счастью, у этой проблемы есть чёткое математическое решение.  

  

В 2017 году математик из Кембриджского университета Марианна Фрайбергер вывела [правило 37%](https://plus.maths.org/content/mathematical-dating), которое назвала основным правилом стратегического дейтинга.   

  

▍ Стратегический дейтинг
------------------------

  

Проблему выбора можно сформулировать следующим образом:  

  

Какое количество возможных вариантов нужно перебрать, чтобы получить наилучший результат? С точки зрения математики, ответом будет **37%**.   

  

**Оригинальное правило звучит так:**  

  


> Из всех людей, с которыми вы можете встретиться, встречайтесь с первыми 37%, а затем выбирайте первого, кто лучше всех, кого вы видели раньше (или ждите самого последнего, если такой человек не найдётся).

  

![](https://habrastorage.org/webt/ji/xl/em/jixlemje3de-b3if8pdv5vaouw8.gif)*Рис. 1*  

  

На практике вы не можете знать, с каким количеством женщин вы потенциально способны встретиться, поэтому придётся устанавливать рациональные ожидания.   

  

Вот примерный алгоритм:  

  

1. Предположим, вы хотите найти пару в течение года (долговременный партнёр, идеальная девушка для создания семьи).
2. Вы можете встречаться максимум с двумя девушками в неделю.  

	* Следовательно, общий пул для выбора составляет 104,3 девушки.  
	
		+ *Примечание*. Теоретически, общий пул можно рассчитать по адаптированной [формуле Дрейка](https://en.wikipedia.org/wiki/Drake_equation), которая создана для расчёта вероятности встречи с инопланетной цивилизацией:  
		
		  
		
		![$N=R\cdot f_{p}\cdot n_{e}\cdot f_{l}\cdot f_{i}\cdot f_{c}\cdot L$](https://habrastorage.org/getpro/habr/formulas/6be/bb4/072/6bebb4072adfbff739024896dd892aef.svg)
		
		  
		
		То есть перемножить общее количество девушек в городе на долю девушек определённого возраста и образования, симпатичной внешности и готовых встречаться. Вы получите теоретически возможный максимальный пул.
3. Встречаемся с 38,6 девушек (104,3\*0,37) в течение 135 дней (365\*0,37). Очевидно, округляем девушек до 39.
4. После этого из *оставшегося пула* выбираем первую попавшуюся девушку, которая по общей оценке превосходит все 39 кандидаток, с кем вы встретились ранее.  

	* *Exception*. Если таковой не нашлось, то выбираем последнюю в списке или увеличиваем пул (продлеваем время просмотра) с перерасчётом формулы.

  

Алгоритм можно адаптировать для разных ситуаций, но базовый принцип остаётся тем же:  

  

1. Просмотреть достаточное количество вариантов.
2. Затем выбрать первое же, что лучше всего, увиденного ранее.

  

Это правило не противоречит простой житейской мудрости: если выбрать слишком рано, то велик риск неоптимального выбора с последующим разочарованием. А если продолжать перебирать варианты до бесконечности, то все хорошие варианты разберут. То есть должен существовать некий оптимум.  

  

▍ Вычисление оптимума
---------------------

  

На рис. 1 общий пул кандидатов обозначен как ![$N$](https://habrastorage.org/getpro/habr/formulas/9aa/e08/704/9aae087046a60218262bab4a00522adc.svg), а количество просмотренных кандидатов (назначенных свиданий) принято за ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg). Напоминаем, что по условиям алгоритма после ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg) мы делаем окончательный выбор и останавливается на лучшем из всех, кого видели до сих пор. Крестиком ![$Х$](https://habrastorage.org/getpro/habr/formulas/3dc/afe/58c/3dcafe58c1f8aa41d147612a938a89bc.svg) обозначен идеальный кандидат в пуле, которого мы ищем.  

  

Наша задача — вычислить оптимальное соотношение ![$M/N$](https://habrastorage.org/getpro/habr/formulas/386/de4/0a4/386de40a436cb8f4e153978a5f0be0a3.svg), которое необходимо для нахождения ![$Х$](https://habrastorage.org/getpro/habr/formulas/3dc/afe/58c/3dcafe58c1f8aa41d147612a938a89bc.svg).  

  

Для этого вычисляется вероятность ![$P(M,N)$](https://habrastorage.org/getpro/habr/formulas/4b1/63d/779/4b163d779e869397dec4e723f5126c53.svg) встретить ![$Х$](https://habrastorage.org/getpro/habr/formulas/3dc/afe/58c/3dcafe58c1f8aa41d147612a938a89bc.svg) после просмотра ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg) кандидатов.  

  

Очевидно, что если ![$Х$](https://habrastorage.org/getpro/habr/formulas/3dc/afe/58c/3dcafe58c1f8aa41d147612a938a89bc.svg) встретился среди ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg), то мы упустили свой шанс и в остальной выборке никого лучше уже не найдём. Поэтому соотношение ![$M/N$](https://habrastorage.org/getpro/habr/formulas/386/de4/0a4/386de40a436cb8f4e153978a5f0be0a3.svg) не должно быть слишком большим и не может быть равно 1 (вероятность встретить там максимальный ![$Х$](https://habrastorage.org/getpro/habr/formulas/3dc/afe/58c/3dcafe58c1f8aa41d147612a938a89bc.svg) равно ![$1/N$](https://habrastorage.org/getpro/habr/formulas/51d/18e/a6c/51d18ea6cb29bee0bda1b8ca327874a4.svg)). С другой стороны, оно не может быть и слишком маленьким, потому что тогда найденный объект будет ниже максимально возможного ![$X$](https://habrastorage.org/getpro/habr/formulas/096/ed7/65c/096ed765c8bbbc1f1e34d3b19d3550ed.svg) по оценке, что приведёт к печальной ситуации в долговременной перспективе:  

  

![](https://habrastorage.org/r/w780q1/webt/-g/lv/r9/-glvr9fsfkzfiivc6w-odevst2w.jpeg)*Последствия слишком малого ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg)*   

  

Если сложить вероятности встретить ![$X$](https://habrastorage.org/getpro/habr/formulas/096/ed7/65c/096ed765c8bbbc1f1e34d3b19d3550ed.svg) для каждого последующего свидания, то получается:  

  

![$P(M,N)={1\over N}+{M\over {N(M+1)}}+{M\over {N(M+2)}}+...+{M\over {N(N-1)}}$](https://habrastorage.org/getpro/habr/formulas/8f4/5bb/5c9/8f45bb5c97c6bc4f3a50ac49f4e62082.svg)

  

![$={1\over N}\begin{pmatrix}1+{M\over {M+1}}+{M\over {M+2}}+...+{M\over {N-1}}\end{pmatrix}$](https://habrastorage.org/getpro/habr/formulas/a52/504/682/a525046821eb8b8d27099ef243ecc8f0.svg)

  

![$={M\over N}\begin{pmatrix}{1\over M}+{1\over {M+1}}+{1\over {M+2}}+...+{1\over {N-1}}\end{pmatrix}$](https://habrastorage.org/getpro/habr/formulas/f61/9c4/846/f619c48462e6cc753efbbd68ac34c899.svg)

  

Для каждого ![$N$](https://habrastorage.org/getpro/habr/formulas/9aa/e08/704/9aae087046a60218262bab4a00522adc.svg) мы хотим выбрать ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg) с максимальной вероятностью ![$P(M,N)$](https://habrastorage.org/getpro/habr/formulas/4b1/63d/779/4b163d779e869397dec4e723f5126c53.svg), то есть:   

  

![$P(M-1,N)<P(M,N)$](https://habrastorage.org/getpro/habr/formulas/063/ccb/9f9/063ccb9f97f10f4383e662e9a15a637d.svg)

  

Если подставить сюда выражения из предыдущих уравнений, то получится:   

  

![$1<{1\over M}+{1\over {M+1}}+{1\over {M+2}}+...+{1\over {N-1}}$](https://habrastorage.org/getpro/habr/formulas/92e/116/92e/92e11692ead2c26b1057bfb4f91245e3.svg)

  

Аналогично, для следующего человека ![$M+1$](https://habrastorage.org/getpro/habr/formulas/ea8/476/acc/ea8476acc1a486af699bc71872f757fc.svg) получается:   

  

![$1<{1\over {M+1}}+{1\over {M+2}}+{1\over {M+3}}...+{1\over {N-1}}$](https://habrastorage.org/getpro/habr/formulas/b37/34e/fe7/b3734efe7cb869b1604018d1eb54acec.svg)

  

В эти формулы можно подставлять настоящие цифры. Скажем, у нас выборка из четырёх девушек (![$N=4$](https://habrastorage.org/getpro/habr/formulas/795/fcb/da9/795fcbda9b363cd39c035c5e5bf0e636.svg)). В данном случае существует единственное значение ![$M$](https://habrastorage.org/getpro/habr/formulas/235/dbb/d23/235dbbd235292bd972735b4fd4224b7f.svg), которое удовлетворяет равенству, это ![$1$](https://habrastorage.org/getpro/habr/formulas/d4a/c7f/4b6/d4ac7f4b6821aecb794f61695d169e22.svg).  

  

![${5\over 6}={1\over 2}+{1\over 3}<1<{1\over 1}+{1\over 2}+{1\over 3}={11\over 6}$](https://habrastorage.org/getpro/habr/formulas/67f/a78/3c7/67fa783c7128c2b864da8fe74b607314.svg)

  

То есть по алгоритму мы должны проигнорировать первую девушку (25% выборки), а из оставшихся выбрать первую же, которая будет лучше неё.  

  

Если произвести такой расчёт для других размеров выборки, то можно выяснить, что с определённого размера выборки значение ![$M/N$](https://habrastorage.org/getpro/habr/formulas/386/de4/0a4/386de40a436cb8f4e153978a5f0be0a3.svg) приближается к ![$0,368$](https://habrastorage.org/getpro/habr/formulas/ae6/0ea/ba2/ae60eaba27d2e4f6c84de5924cd65956.svg), а именно ![$1/e$](https://habrastorage.org/getpro/habr/formulas/d21/6f9/439/d216f9439f75b79af0c8340a10e1b7c5.svg). В частности, для выборки в сотни девушек это будет значение ![$37$](https://habrastorage.org/getpro/habr/formulas/7aa/aa8/857/7aaaa885730635bf0a8ce95a87d63300.svg), отсюда и «правило 37%». Всё просто.  

  

*Примечание*. [Задачу о разборчивой невесте](https://en.wikipedia.org/wiki/Secretary_problem) (она же задача о секретаре или проблема остановки выбора), вероятно, впервые сформулировал математик Меррилл М. Флад в 1949 году. Первая публикация была сделана Мартином Гарднером в журнале Scientific American за февраль 1960 года (*[Who Solved the Secretary Problem?](https://projecteuclid.org/journals/statistical-science/volume-4/issue-3/Who-Solved-the-Secretary-Problem/10.1214/ss/1177012493.full)*, Thomas S. Ferguson, Statist. Sci. 4(3): 282-289 (August, 1989). doi: 10.1214/ss/1177012493).  

  

▍ Оптимизация отбора
--------------------

  

Из расчётов выше можно понять, что для выбора оптимального объекта нам нужны *критерии выбора*, по которым мы можем их сравнивать и оценивать.  

  

Понятно, что у каждого человека эти критерии свои, это может быть физическая привлекательность, ум, обаяние, чувство юмора, весёлый характер, добродушие, материальная состоятельность, уверенность в себе, счастье, здоровье, рост/вес и т. д. Какими бы критериями вы ни руководствовались, можно их формализовать и оценивать численно, чтобы сравнивать объекты друг с другом по общей оценке, но это не принципиально, потому что человек всё равно подсознательно выводит общую оценку, не вдаваясь в подкатегории. Достаточно простой оценки от 1 до 10, чтобы выбрать оптимальный результат по формуле выше.  

  

Если нет желания пользоваться сайтами/приложениями для знакомств, то существует альтернатива — попросить девушек *самих* заполнять анкету, если они хотят с вами встречаться. Например, писатель и рационалист Якоб Фалькович (Jacob Falkovich) [опубликовал](https://putanumonit.com/meet/) такие анкеты для всех претенденток, которые хотят вступить с ним в платонические или романтические отношения:  

  

* [Анкета для платонических отношений (дружеская тусовка)](https://forms.gle/gFwfro9zGdFrMK2D6)
* [Анкета для свиданий](https://forms.gle/EQy6BwP4gaMP1Y3E9)

  

![](https://habrastorage.org/r/w780q1/webt/3w/_k/x4/3w_kx4ryqs4nnzz6_3v7-rbuvxa.jpeg)  

  

Можно пойти ещё дальше. Другой интеллектуал и рационалист Деймон Саси (Damon Sasi) не просто разместил анкету на персональном сайте, но и открыл страничку с [отзывами от бывших партнёрш](https://daystareld.com/blog/date-me/dating-testimonials/) (обе отзываются положительно, но отмечают отдельные недостатки субъекта).  

  

Публикация на личном сайте (или в твиттере) анкеты для свиданий — отличная альтернатива сайтам знакомств. Такая анкета показывает, что вы открыты для отношений. По идее, среди посетителей вашего сайта только те девушки, которых привлекает ваша личность и/или работа, то есть первоначальный отбор проведён.  

  

Даже если у вас нет личного сайта, можно создать документ Date Me в Google Docs или Dropbox Paper c описанием своей личности, фотографиями и списком того, что вы хотите от отношений. Вот [пример такого документа](https://paper.dropbox.com/doc/catherios-dating-profile-Wt2wu19F4z1hUEKk8QXK4) от симпатичной программистки Кэтрин Олссон (Catherine Olsson) из компании AnthropicAI:  

  

![](https://habrastorage.org/r/w780q1/webt/xm/cb/4o/xmcb4oxihumbvlmwuh5ooooynsm.jpeg)  

  

Ссылка публикуется в твиттере и соцсетях, в профиле на Хабре и т. д. Такая анкета с самопрезентацией сама по себе отсеивает неподходящих кандидатов. Остаются только те, кому вы действительно нравитесь. Сама Кэтрин называет эту стратегию «оптимизацией для партнёрских отношений».  

  

А сайты знакомств тогда вообще не нужны.  

  



---

  

Интернет стал основной площадкой для знакомств. Хотя многие по-прежнему относятся к нему негативно, но статистика показывает, что эта тенденция только усиливается. Если так пойдёт дальше, то знакомиться в офлайне станет совсем непривычно.   

  

![](https://habrastorage.org/r/w1560/webt/wx/_k/ka/wx_kkazg0spcluigljxthozsjjy.png)  

*Доля гетеросексуальных пар США, которые познакомились одним из следующих способов (в таблицу не вошли другие варианты ответа: в церкви, по соседству). [Опрос Стэнфордского университета](https://web.stanford.edu/~mrosenfe/Rosenfeld_et_al_Disintermediating_Friends.pdf), 5421 респондент*  

  

Даже сейчас люди в метро и на улице преимущественно сидят в телефонах и не слишком горят желанием смотреть по сторонам. Единственным исключением остаются бары/рестораны, куда народ приходит целенаправленно пообщаться. Так что методы знакомства постепенно эволюционируют. Способы пикапа, которые работали в нашей юности, сейчас выглядят немного кринжово.  

  

В любом случае, «правило 37%» действует не только в отношении знакомств, но и для любых объектов, которые вы рассматриваете по очереди и хотите выбрать оптимальный.  

  


> **[Telegram-канал с розыгрышами призов, новостями IT и постами о ретроиграх 🕹️](https://t.me/ruvds_community)**

[![](https://habrastorage.org/r/w1560/webt/_p/_h/lv/_p_hlvd2tv0cv9tny8tdytzfhje.png)](http://ruvds.com/ru-rub?utm_source=habr&utm_medium=article&utm_campaign=alizar&utm_content=matematicheskij_podxod_k_vyboru_devushki_pravilo_37)