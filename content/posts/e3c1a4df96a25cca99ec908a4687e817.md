---
title: "\n    Дисперсия суммы или как мелкие задачи увеличивают неопределенность —
  Джедайский Клуб \U0001F918✖️\U0001F469‍\U0001F4BB‍\n"
date: 2024-03-02
src_link: https://www.notion.so/45c8add743c84f5cb771b840a3719a10
src_date: '2024-03-02 14:40:00'
gold_link: https://club.mnogosdelal.ru/post/2656/
gold_link_hash: e3c1a4df96a25cca99ec908a4687e817
tags:
- '#host_club_mnogosdelal_ru'
---


"Чем меньше задачи в плане, тем точнее оценки и, следовательно, точнее план".


Короткий ответ - это неверно. 



Длинный ответ - верное обратное.

Пусть вам надо сделать одно дело, которое можно разбить на два дела поменьше X и Y. Сколько времени займет каждое дело X и Y мы знаем только примерно.


Дальше верно два утверждения, которые можно проверить в любом учебнике вероятности на свой вкус.


* Мат ожидание суммы равно сумме мат ожиданий
* Дисперсия суммы - это сумма дисперсий и двух ковариаций


Если два дела X и Y **независимы**, то ковариация равна нулю. Мы получаем, что разбив задачу на две, мы получили неопределенность конечного результата как сумму неопределенностей.


Загадочная **ковариация** входит в игру, если есть жесткая **зависимость** хотя бы между последовательностью их выполнения (если это задача с чайником где надо налить воду и включить чайник) или еще хуже результат одной задачи, частично используется в другой.


Давайте, посчитаем сценарий


* Х - нормально распределенная случайная величина N(10, 3)
* Y = max(X, N(10, 3)) - второй шаг априорно оценивается так же, но если первый шаг будет чуть больше (10.5), то второй займет столько же как и первый.


Получим примерно такую картину (красное сумма двух независимых N(10, 3), синее - X+Y)


* Дисперсия "по плану" = 3+3=6, Дисперсия "по факту" = 8.1
* Среднее "по плану" = 10 + 10 = 20, Среднее "по факту" = 20.98
* Распределение поехало вправо


![](https://i.club.mnogosdelal.ru/adbdf5b4cd25d35e1920553f4495f8cc90a7c0a85bd6ee25835c6d7a197c88d1.png)


Давайте попробуем с расширить пример до 5 задач.


Те же условия, "сложность" накапливается с каждым шагом


* Х = N(10, 3)
* Y = max(X, N(10, 3))
* A = max(Y, N(10, 3))
* B = max(A, N(10, 3))
* C = max(B, N(10, 3))


Численный эксперимент  

![](https://i.club.mnogosdelal.ru/cdf72b69710bedb7bc15cc9ac5df0fc91014fdf580509c86927fcde44046f15f.png)


* Дисперсия: 15 vs 30.97
* Среднее: 50 vs 56.23
* Распределение поехало вправо сильнее


Иллюстрация о "пользе" дробления на мелкие задачи в данном сценарии - один и тот же объем работы разделим на 10, 100 и 1000 задач


N = 10. Самый короткий план, и самый точный  

![](https://i.club.mnogosdelal.ru/68df9e2ff7c92b7c7e67100d080b2d64f1802a41fce2c9334e046f3ed442c849.png)



N = 100  

![](https://i.club.mnogosdelal.ru/2c28f01bef4f69cae7f126b6ffdbdad9b8cbf5c1f5fc70ab7b1e1f1ff9031d62.png)

N = 1000. Самый детальный план, и самый ошибочный  

![](https://i.club.mnogosdelal.ru/a08591a3a4d1c883b3058cb9ef4179a91789f58e5a3abb73c1bb4b79a2602177.png)


Чем более шагов у вас в плане, тем он более неточный.


Может вы имеете дело с загадочной проблемой, а может **метод вносит системную ошибку.**


Можно сказать что это такой выдуманный пример, но это лишь иллюстрация формулы из любого учебника теории вероятности.


Встретите зависимые задачи - вспомните про ковариации и добавьте к итоговой оценке. Два раза.